{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Upload(){const[file,setFile]=useState(null);const[message,setMessage]=useState('');const[progress,setProgress]=useState(0);const uploadFile=async()=>{if(!file){alert('Please select a file first.');return;}const formData=new FormData();formData.append('file',file);try{await axios.post('http://localhost:5000/api/upload',formData,{onUploadProgress:event=>{const percent=Math.round(event.loaded*100/event.total);setProgress(percent);}});setMessage('Scan in progress...');setFile(null);setProgress(0);}catch(error){console.error('Upload error:',error);setMessage('Upload failed. Try again.');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".pdf,.docx,.jpg,.png\",onChange:e=>setFile(e.target.files[0])}),/*#__PURE__*/_jsx(\"button\",{onClick:uploadFile,children:\"Upload\"}),progress>0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Uploading: \",progress,\"%\"]}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]});}export default Upload;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Upload","file","setFile","message","setMessage","progress","setProgress","uploadFile","alert","formData","FormData","append","post","onUploadProgress","event","percent","Math","round","loaded","total","error","console","children","type","accept","onChange","e","target","files","onClick"],"sources":["C:/Users/User/cyberxplore-project/frontend/src/Upload.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Upload() {\r\n  const [file, setFile] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  const uploadFile = async () => {\r\n    if (!file) {\r\n      alert('Please select a file first.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    try {\r\n      await axios.post('http://localhost:5000/api/upload', formData, {\r\n        onUploadProgress: (event) => {\r\n          const percent = Math.round((event.loaded * 100) / event.total);\r\n          setProgress(percent);\r\n        }\r\n      });\r\n      setMessage('Scan in progress...');\r\n      setFile(null);\r\n      setProgress(0);\r\n    } catch (error) {\r\n      console.error('Upload error:', error);\r\n      setMessage('Upload failed. Try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        type=\"file\"\r\n        accept=\".pdf,.docx,.jpg,.png\"\r\n        onChange={(e) => setFile(e.target.files[0])}\r\n      />\r\n      <button onClick={uploadFile}>Upload</button>\r\n      {progress > 0 && <p>Uploading: {progress}%</p>}\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Upload;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CAE3C,KAAM,CAAAa,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CAACN,IAAI,CAAE,CACTO,KAAK,CAAC,6BAA6B,CAAC,CACpC,OACF,CAEA,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEV,IAAI,CAAC,CAE7B,GAAI,CACF,KAAM,CAAAN,KAAK,CAACiB,IAAI,CAAC,kCAAkC,CAAEH,QAAQ,CAAE,CAC7DI,gBAAgB,CAAGC,KAAK,EAAK,CAC3B,KAAM,CAAAC,OAAO,CAAGC,IAAI,CAACC,KAAK,CAAEH,KAAK,CAACI,MAAM,CAAG,GAAG,CAAIJ,KAAK,CAACK,KAAK,CAAC,CAC9Db,WAAW,CAACS,OAAO,CAAC,CACtB,CACF,CAAC,CAAC,CACFX,UAAU,CAAC,qBAAqB,CAAC,CACjCF,OAAO,CAAC,IAAI,CAAC,CACbI,WAAW,CAAC,CAAC,CAAC,CAChB,CAAE,MAAOc,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrChB,UAAU,CAAC,2BAA2B,CAAC,CACzC,CACF,CAAC,CAED,mBACEL,KAAA,QAAAuB,QAAA,eACEzB,IAAA,UACE0B,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,sBAAsB,CAC7BC,QAAQ,CAAGC,CAAC,EAAKxB,OAAO,CAACwB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CAC7C,CAAC,cACF/B,IAAA,WAAQgC,OAAO,CAAEtB,UAAW,CAAAe,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC3CjB,QAAQ,CAAG,CAAC,eAAIN,KAAA,MAAAuB,QAAA,EAAG,aAAW,CAACjB,QAAQ,CAAC,GAAC,EAAG,CAAC,CAC7CF,OAAO,eAAIN,IAAA,MAAAyB,QAAA,CAAInB,OAAO,CAAI,CAAC,EACzB,CAAC,CAEV,CAEA,cAAe,CAAAH,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}